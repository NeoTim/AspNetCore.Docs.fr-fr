---
title: ASP.NET modèles d’hébergement de base Blazor
author: guardrex
description: Comprendre Blazor les modèles Blazor d’hébergement WebAssembly et Server.
monikerRange: '>= aspnetcore-3.1'
ms.author: riande
ms.custom: mvc
ms.date: 03/31/2020
no-loc:
- Blazor
- SignalR
uid: blazor/hosting-models
ms.openlocfilehash: 0dfc991f76acb227ce9ea27a07fbae50571f0117
ms.sourcegitcommit: f7886fd2e219db9d7ce27b16c0dc5901e658d64e
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/06/2020
ms.locfileid: "80471832"
---
# <a name="aspnet-core-opno-locblazor-hosting-models"></a><span data-ttu-id="4c0d3-103">ASP.NET modèles d’hébergement de base Blazor</span><span class="sxs-lookup"><span data-stu-id="4c0d3-103">ASP.NET Core Blazor hosting models</span></span>

<span data-ttu-id="4c0d3-104">Par [Daniel Roth](https://github.com/danroth27)</span><span class="sxs-lookup"><span data-stu-id="4c0d3-104">By [Daniel Roth](https://github.com/danroth27)</span></span>

[!INCLUDE[](~/includes/blazorwasm-preview-notice.md)]

Blazor<span data-ttu-id="4c0d3-105">est un cadre web conçu pour exécuter le côté client dans le navigateur sur un [WebAssembly-basé](https://webassembly.org/).NET runtime\* Blazor *(* Blazor WebAssembly\*) ou côté serveur dans ASP.NET Core ( Server ).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-105"> is a web framework designed to run client-side in the browser on a [WebAssembly](https://webassembly.org/)-based .NET runtime (*Blazor WebAssembly*) or server-side in ASP.NET Core (*Blazor Server*).</span></span> <span data-ttu-id="4c0d3-106">Quel que soit le modèle d’hébergement, les modèles d’applications et de composants *sont les mêmes*.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-106">Regardless of the hosting model, the app and component models *are the same*.</span></span>

<span data-ttu-id="4c0d3-107">Pour créer un projet pour les modèles <xref:blazor/get-started>d’hébergement décrits dans cet article, voir .</span><span class="sxs-lookup"><span data-stu-id="4c0d3-107">To create a project for the hosting models described in this article, see <xref:blazor/get-started>.</span></span>

<span data-ttu-id="4c0d3-108">Pour une configuration <xref:blazor/hosting-model-configuration>avancée, voir .</span><span class="sxs-lookup"><span data-stu-id="4c0d3-108">For advanced configuration, see <xref:blazor/hosting-model-configuration>.</span></span>

## <a name="opno-locblazor-webassembly"></a>Blazor<span data-ttu-id="4c0d3-109">WebAssembly (en)</span><span class="sxs-lookup"><span data-stu-id="4c0d3-109"> WebAssembly</span></span>

<span data-ttu-id="4c0d3-110">Le modèle d’hébergement principal pour Blazor est l’exécution du côté client dans le navigateur sur WebAssembly.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-110">The principal hosting model for Blazor is running client-side in the browser on WebAssembly.</span></span> <span data-ttu-id="4c0d3-111">L’application, Blazor ses dépendances et le temps d’exécution .NET sont téléchargés sur le navigateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-111">The Blazor app, its dependencies, and the .NET runtime are downloaded to the browser.</span></span> <span data-ttu-id="4c0d3-112">L’application est exécutée directement sur le thread d’interface utilisateur du navigateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-112">The app is executed directly on the browser UI thread.</span></span> <span data-ttu-id="4c0d3-113">Les mises à jour de l’interface utilisateur et le traitement des événements se produisent dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-113">UI updates and event handling occur within the same process.</span></span> <span data-ttu-id="4c0d3-114">Les actifs de l’application sont déployés sous forme de fichiers statiques sur un serveur web ou un service capable de servir du contenu statique aux clients.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-114">The app's assets are deployed as static files to a web server or service capable of serving static content to clients.</span></span>

<span data-ttu-id="4c0d3-115">![BlazorWebAssembly: Blazor L’application s’exécute sur un thread d’interface utilisateur à l’intérieur du navigateur.](hosting-models/_static/blazor-webassembly.png)</span><span class="sxs-lookup"><span data-stu-id="4c0d3-115">![Blazor WebAssembly: The Blazor app runs on a UI thread inside the browser.](hosting-models/_static/blazor-webassembly.png)</span></span>

<span data-ttu-id="4c0d3-116">Pour créer Blazor une application à l’aide du modèle d’hébergement côté client, utilisez le \*\* Blazor modèle WebAssembly App\*\* [(dotnet nouveau blazorwasm](/dotnet/core/tools/dotnet-new)).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-116">To create a Blazor app using the client-side hosting model, use the **Blazor WebAssembly App** template ([dotnet new blazorwasm](/dotnet/core/tools/dotnet-new)).</span></span>

<span data-ttu-id="4c0d3-117">Après avoir sélectionné le **ASP.NET Core hosted** \*\* Blazor modèle WebAssembly App,\*\* vous avez la possibilité de configurer l’application pour utiliser un backend ASP.NET Core en sélectionnant la case à cocher hébergée ASP.NET Core[(dotnet nouveau blazorwasm --hébergé](/dotnet/core/tools/dotnet-new)).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-117">After selecting the **Blazor WebAssembly App** template, you have the option of configuring the app to use an ASP.NET Core backend by selecting the **ASP.NET Core hosted** check box ([dotnet new blazorwasm --hosted](/dotnet/core/tools/dotnet-new)).</span></span> <span data-ttu-id="4c0d3-118">L’application ASP.NET Core sert Blazor l’application aux clients.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-118">The ASP.NET Core app serves the Blazor app to clients.</span></span> <span data-ttu-id="4c0d3-119">L’application Blazor WebAssembly peut interagir avec le serveur sur [SignalR](xref:signalr/introduction) <xref:tutorials/signalr-blazor-webassembly>le réseau à l’aide d’appels Web API ou (</span><span class="sxs-lookup"><span data-stu-id="4c0d3-119">The Blazor WebAssembly app can interact with the server over the network using web API calls or [SignalR](xref:signalr/introduction) (<xref:tutorials/signalr-blazor-webassembly>).</span></span>

<span data-ttu-id="4c0d3-120">Les modèles incluent `blazor.webassembly.js` le script qui gère :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-120">The templates include the `blazor.webassembly.js` script that handles:</span></span>

* <span data-ttu-id="4c0d3-121">Téléchargement de l’heure d’exécution .NET, l’application, et les dépendances de l’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-121">Downloading the .NET runtime, the app, and the app's dependencies.</span></span>
* <span data-ttu-id="4c0d3-122">Initialisation de l’exécution de l’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-122">Initialization of the runtime to run the app.</span></span>

<span data-ttu-id="4c0d3-123">Le Blazor modèle d’hébergement WebAssembly offre plusieurs avantages :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-123">The Blazor WebAssembly hosting model offers several benefits:</span></span>

* <span data-ttu-id="4c0d3-124">Il n’y a pas de dépendance .NET côté serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-124">There's no .NET server-side dependency.</span></span> <span data-ttu-id="4c0d3-125">L’application fonctionne pleinement après avoir été téléchargée sur le client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-125">The app is fully functioning after it's downloaded to the client.</span></span>
* <span data-ttu-id="4c0d3-126">Les ressources et les capacités des clients sont pleinement exploitées.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-126">Client resources and capabilities are fully leveraged.</span></span>
* <span data-ttu-id="4c0d3-127">Le travail est déchargé du serveur au client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-127">Work is offloaded from the server to the client.</span></span>
* <span data-ttu-id="4c0d3-128">Un serveur web ASP.NET Core n’est pas nécessaire pour héberger l’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-128">An ASP.NET Core web server isn't required to host the app.</span></span> <span data-ttu-id="4c0d3-129">Des scénarios de déploiement sans serveur sont possibles (par exemple, au service de l’application à partir d’un CDN).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-129">Serverless deployment scenarios are possible (for example, serving the app from a CDN).</span></span>

<span data-ttu-id="4c0d3-130">Il ya des Blazor inconvénients à l’hébergement WebAssembly:</span><span class="sxs-lookup"><span data-stu-id="4c0d3-130">There are downsides to Blazor WebAssembly hosting:</span></span>

* <span data-ttu-id="4c0d3-131">L’application est limitée aux capacités du navigateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-131">The app is restricted to the capabilities of the browser.</span></span>
* <span data-ttu-id="4c0d3-132">Le matériel et les logiciels clients compétents (par exemple, le support WebAssembly) sont nécessaires.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-132">Capable client hardware and software (for example, WebAssembly support) is required.</span></span>
* <span data-ttu-id="4c0d3-133">La taille du téléchargement est plus grande, et les applications prennent plus de temps à charger.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-133">Download size is larger, and apps take longer to load.</span></span>
* <span data-ttu-id="4c0d3-134">.NET runtime et le support d’outillage est moins mature.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-134">.NET runtime and tooling support is less mature.</span></span> <span data-ttu-id="4c0d3-135">Par exemple, il existe des limites dans le support et le débogage [.NET Standard.](/dotnet/standard/net-standard)</span><span class="sxs-lookup"><span data-stu-id="4c0d3-135">For example, limitations exist in [.NET Standard](/dotnet/standard/net-standard) support and debugging.</span></span>

<span data-ttu-id="4c0d3-136">Le Blazor modèle d’application Hébergé prend en charge [les conteneurs Docker](/dotnet/standard/microservices-architecture/container-docker-introduction/index).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-136">The Blazor Hosted app model supports [Docker containers](/dotnet/standard/microservices-architecture/container-docker-introduction/index).</span></span> <span data-ttu-id="4c0d3-137">Cliquez à droite sur le projet Server dans Visual Studio et sélectionnez **Add** > **Docker Support**.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-137">Right-click on the Server project in Visual Studio and select **Add** > **Docker Support**.</span></span>

## <a name="opno-locblazor-server"></a>Blazor<span data-ttu-id="4c0d3-138">Serveur</span><span class="sxs-lookup"><span data-stu-id="4c0d3-138"> Server</span></span>

<span data-ttu-id="4c0d3-139">Avec Blazor le modèle d’hébergement Server, l’application est exécutée sur le serveur à partir d’une application ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-139">With the Blazor Server hosting model, the app is executed on the server from within an ASP.NET Core app.</span></span> <span data-ttu-id="4c0d3-140">Les mises à jour de l’interface utilisateur, [SignalR](xref:signalr/introduction) la gestion des événements et les appels JavaScript sont traités sur une connexion.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-140">UI updates, event handling, and JavaScript calls are handled over a [SignalR](xref:signalr/introduction) connection.</span></span>

<span data-ttu-id="4c0d3-141">![Le navigateur interagit avec l’application (hébergée à l’intérieur SignalR d’une application ASP.NET Core) sur le serveur sur une connexion.](hosting-models/_static/blazor-server.png)</span><span class="sxs-lookup"><span data-stu-id="4c0d3-141">![The browser interacts with the app (hosted inside of an ASP.NET Core app) on the server over a SignalR connection.](hosting-models/_static/blazor-server.png)</span></span>

<span data-ttu-id="4c0d3-142">Pour créer Blazor une Blazor application à l’aide du modèle d’hébergement Server, utilisez le modèle ASP.NET Core \*\* Blazor Server App\*\* [(dotnet nouveau blazorserver](/dotnet/core/tools/dotnet-new)).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-142">To create a Blazor app using the Blazor Server hosting model, use the ASP.NET Core **Blazor Server App** template ([dotnet new blazorserver](/dotnet/core/tools/dotnet-new)).</span></span> <span data-ttu-id="4c0d3-143">L’application ASP.NET Core héberge Blazor l’application SignalR Server et crée le point de terminaison où les clients se connectent.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-143">The ASP.NET Core app hosts the Blazor Server app and creates the SignalR endpoint where clients connect.</span></span>

<span data-ttu-id="4c0d3-144">L’application ASP.NET Core fait référence `Startup` à la classe de l’application pour ajouter :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-144">The ASP.NET Core app references the app's `Startup` class to add:</span></span>

* <span data-ttu-id="4c0d3-145">Services côté serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-145">Server-side services.</span></span>
* <span data-ttu-id="4c0d3-146">L’application au pipeline de manutention de la demande.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-146">The app to the request handling pipeline.</span></span>

<span data-ttu-id="4c0d3-147">Le `blazor.server.js` script établit la connexion client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-147">The `blazor.server.js` script establishes the client connection.</span></span> <span data-ttu-id="4c0d3-148">Il incombe à l’application de persister et de restaurer l’état de l’application au besoin (par exemple, en cas de perte de connexion réseau).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-148">It's the app's responsibility to persist and restore app state as required (for example, in the event of a lost network connection).</span></span> <span data-ttu-id="4c0d3-149">Le `blazor.server.js` script est servi à partir d’une ressource intégrée dans le cadre partagé ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-149">The `blazor.server.js` script is served from an embedded resource in the ASP.NET Core shared framework.</span></span>

<span data-ttu-id="4c0d3-150">Le Blazor modèle d’hébergement Server offre plusieurs avantages :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-150">The Blazor Server hosting model offers several benefits:</span></span>

* <span data-ttu-id="4c0d3-151">La taille du téléchargement Blazor est significativement plus petite qu’une application WebAssembly, et l’application se charge beaucoup plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-151">Download size is significantly smaller than a Blazor WebAssembly app, and the app loads much faster.</span></span>
* <span data-ttu-id="4c0d3-152">L’application tire pleinement parti des capacités du serveur, y compris l’utilisation de toutes les API compatibles .NET Core.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-152">The app takes full advantage of server capabilities, including use of any .NET Core compatible APIs.</span></span>
* <span data-ttu-id="4c0d3-153">.NET Core sur le serveur est utilisé pour exécuter l’application, de sorte que l’outillage .NET existant, comme le débogage, fonctionne comme prévu.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-153">.NET Core on the server is used to run the app, so existing .NET tooling, such as debugging, works as expected.</span></span>
* <span data-ttu-id="4c0d3-154">Les clients minces sont pris en charge.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-154">Thin clients are supported.</span></span> <span data-ttu-id="4c0d3-155">Par exemple, Blazor les applications Server fonctionnent avec des navigateurs qui ne prennent pas en charge WebAssembly et sur les périphériques à ressources limitées.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-155">For example, Blazor Server apps work with browsers that don't support WebAssembly and on resource-constrained devices.</span></span>
* <span data-ttu-id="4c0d3-156">La base de code .NET/CMD de l’application, y compris le code composant de l’application, n’est pas servie aux clients.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-156">The app's .NET/C# code base, including the app's component code, isn't served to clients.</span></span>

<span data-ttu-id="4c0d3-157">Il ya des Blazor inconvénients à l’hébergement Server:</span><span class="sxs-lookup"><span data-stu-id="4c0d3-157">There are downsides to Blazor Server hosting:</span></span>

* <span data-ttu-id="4c0d3-158">Il existe généralement une latence plus élevée.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-158">Higher latency usually exists.</span></span> <span data-ttu-id="4c0d3-159">Chaque interaction utilisateur implique un saut réseau.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-159">Every user interaction involves a network hop.</span></span>
* <span data-ttu-id="4c0d3-160">Il n’y a pas de support hors ligne.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-160">There's no offline support.</span></span> <span data-ttu-id="4c0d3-161">Si la connexion client échoue, l’application cesse de fonctionner.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-161">If the client connection fails, the app stops working.</span></span>
* <span data-ttu-id="4c0d3-162">L’évolutivité est difficile pour les applications avec de nombreux utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-162">Scalability is challenging for apps with many users.</span></span> <span data-ttu-id="4c0d3-163">Le serveur doit gérer plusieurs connexions client et gérer l’état du client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-163">The server must manage multiple client connections and handle client state.</span></span>
* <span data-ttu-id="4c0d3-164">Un serveur ASP.NET Core est nécessaire pour servir l’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-164">An ASP.NET Core server is required to serve the app.</span></span> <span data-ttu-id="4c0d3-165">Les scénarios de déploiement sans serveur ne sont pas possibles (par exemple, au service de l’application à partir d’un CDN).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-165">Serverless deployment scenarios aren't possible (for example, serving the app from a CDN).</span></span>

<span data-ttu-id="4c0d3-166">Le Blazor modèle d’application Server prend en charge [les conteneurs Docker](/dotnet/standard/microservices-architecture/container-docker-introduction/index).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-166">The Blazor Server app model supports [Docker containers](/dotnet/standard/microservices-architecture/container-docker-introduction/index).</span></span> <span data-ttu-id="4c0d3-167">Cliquez à droite sur le projet dans Visual Studio et sélectionnez **Add** > **Docker Support**.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-167">Right-click on the project in Visual Studio and select **Add** > **Docker Support**.</span></span>

### <a name="comparison-to-server-rendered-ui"></a><span data-ttu-id="4c0d3-168">Comparaison avec l’interface utilisateur rendue par le serveur</span><span class="sxs-lookup"><span data-stu-id="4c0d3-168">Comparison to server-rendered UI</span></span>

<span data-ttu-id="4c0d3-169">Une façon Blazor de comprendre les applications Server est de comprendre comment il diffère des modèles traditionnels pour le rendu de l’interface utilisateur dans ASP.NET applications Core en utilisant des vues Razor ou Des pages Razor.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-169">One way to understand Blazor Server apps is to understand how it differs from traditional models for rendering UI in ASP.NET Core apps using Razor views or Razor Pages.</span></span> <span data-ttu-id="4c0d3-170">Les deux modèles utilisent le langage Razor pour décrire le contenu HTML, mais ils diffèrent considérablement dans la façon dont la balisage est rendu.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-170">Both models use the Razor language to describe HTML content, but they significantly differ in how markup is rendered.</span></span>

<span data-ttu-id="4c0d3-171">Lorsqu’une page ou une vue Razor est rendue, chaque ligne de code Razor émet HTML sous forme de texte.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-171">When a Razor Page or view is rendered, every line of Razor code emits HTML in text form.</span></span> <span data-ttu-id="4c0d3-172">Après le rendu, le serveur dispose de la page ou l’instance de vue, y compris tout état qui a été produit.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-172">After rendering, the server disposes of the page or view instance, including any state that was produced.</span></span> <span data-ttu-id="4c0d3-173">Lorsqu’une autre demande de la page se produit, par exemple lorsque la validation du serveur échoue et que le résumé de validation s’affiche :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-173">When another request for the page occurs, for instance when server validation fails and the validation summary is displayed:</span></span>

* <span data-ttu-id="4c0d3-174">La page entière est redevenue sur le texte HTML.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-174">The entire page is rerendered to HTML text again.</span></span>
* <span data-ttu-id="4c0d3-175">La page est envoyée au client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-175">The page is sent to the client.</span></span>

<span data-ttu-id="4c0d3-176">Une Blazor application est composée d’éléments réutilisables de l’interface utilisateur appelés *composants*.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-176">A Blazor app is composed of reusable elements of UI called *components*.</span></span> <span data-ttu-id="4c0d3-177">Un composant contient du code C, une balisage et d’autres composants.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-177">A component contains C# code, markup, and other components.</span></span> <span data-ttu-id="4c0d3-178">Lorsqu’un composant est Blazor rendu, produit un graphique des composants inclus semblable à un modèle d’objet de document HTML ou XML (DOM).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-178">When a component is rendered, Blazor produces a graph of the included components similar to an HTML or XML Document Object Model (DOM).</span></span> <span data-ttu-id="4c0d3-179">Ce graphique comprend l’état des composants conservé dans les propriétés et les champs.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-179">This graph includes component state held in properties and fields.</span></span> Blazor<span data-ttu-id="4c0d3-180">évalue le graphique des composants pour produire une représentation binaire de la majoration.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-180"> evaluates the component graph to produce a binary representation of the markup.</span></span> <span data-ttu-id="4c0d3-181">Le format binaire peut être :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-181">The binary format can be:</span></span>

* <span data-ttu-id="4c0d3-182">Transformé en texte HTML (pendant&dagger;le prérendering ).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-182">Turned into HTML text (during prerendering&dagger;).</span></span>
* <span data-ttu-id="4c0d3-183">Utilisé pour mettre à jour efficacement la majoration lors du rendu régulier.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-183">Used to efficiently update the markup during regular rendering.</span></span>

<span data-ttu-id="4c0d3-184">&dagger;*Prerendering* &ndash; Le composant Razor demandé est compilé sur le serveur en HTML statique et envoyé au client, où il est rendu à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-184">&dagger;*Prerendering* &ndash; The requested Razor component is compiled on the server into static HTML and sent to the client, where it's rendered to the user.</span></span> <span data-ttu-id="4c0d3-185">Une fois la connexion effectuée entre le client et le serveur, les éléments statiques préditables du composant sont remplacés par des éléments interactifs.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-185">After the connection is made between the client and the server, the component's static prerendered elements are replaced with interactive elements.</span></span> <span data-ttu-id="4c0d3-186">Prerendering rend l’application plus sensible à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-186">Prerendering makes the app feel more responsive to the user.</span></span>

<span data-ttu-id="4c0d3-187">Une mise à Blazor jour de l’interface utilisateur est déclenchée par :</span><span class="sxs-lookup"><span data-stu-id="4c0d3-187">A UI update in Blazor is triggered by:</span></span>

* <span data-ttu-id="4c0d3-188">Interaction utilisateur, comme la sélection d’un bouton.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-188">User interaction, such as selecting a button.</span></span>
* <span data-ttu-id="4c0d3-189">Déclencheurs d’applications, comme une minuterie.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-189">App triggers, such as a timer.</span></span>

<span data-ttu-id="4c0d3-190">Le graphique est rendu, et un *diff d’interface* utilisateur (différence) est calculé.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-190">The graph is rerendered, and a UI *diff* (difference) is calculated.</span></span> <span data-ttu-id="4c0d3-191">Ce diff est le plus petit ensemble de modifications DOM nécessaires pour mettre à jour l’interface utilisateur sur le client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-191">This diff is the smallest set of DOM edits required to update the UI on the client.</span></span> <span data-ttu-id="4c0d3-192">Le diff est envoyé au client dans un format binaire et appliqué par le navigateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-192">The diff is sent to the client in a binary format and applied by the browser.</span></span>

<span data-ttu-id="4c0d3-193">Un composant est éliminé après que l’utilisateur navigue loin de lui sur le client.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-193">A component is disposed after the user navigates away from it on the client.</span></span> <span data-ttu-id="4c0d3-194">Pendant qu’un utilisateur interagit avec un composant, l’état du composant (services, ressources) doit être maintenu dans la mémoire du serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-194">While a user is interacting with a component, the component's state (services, resources) must be held in the server's memory.</span></span> <span data-ttu-id="4c0d3-195">Étant donné que l’état de nombreux composants peut être maintenu par le serveur en même temps, l’épuisement de la mémoire est une préoccupation qui doit être abordée.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-195">Because the state of many components might be maintained by the server concurrently, memory exhaustion is a concern that must be addressed.</span></span> <span data-ttu-id="4c0d3-196">Pour obtenir des conseils Blazor sur la façon d’écrire une <xref:security/blazor/server>application Server pour assurer la meilleure utilisation de la mémoire du serveur, voir .</span><span class="sxs-lookup"><span data-stu-id="4c0d3-196">For guidance on how to author a Blazor Server app to ensure the best use of server memory, see <xref:security/blazor/server>.</span></span>

### <a name="circuits"></a><span data-ttu-id="4c0d3-197">Circuits</span><span class="sxs-lookup"><span data-stu-id="4c0d3-197">Circuits</span></span>

<span data-ttu-id="4c0d3-198">Une Blazor application Server est construite au-dessus de [ASP.NET Core SignalR ](xref:signalr/introduction).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-198">A Blazor Server app is built on top of [ASP.NET Core SignalR](xref:signalr/introduction).</span></span> <span data-ttu-id="4c0d3-199">Chaque client communique au serveur sur SignalR une ou plusieurs connexions appelées *circuit*.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-199">Each client communicates to the server over one or more SignalR connections called a *circuit*.</span></span> <span data-ttu-id="4c0d3-200">Un circuit Blazorest l’abstraction des SignalR connexions qui peuvent tolérer des interruptions temporaires du réseau.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-200">A circuit is Blazor's abstraction over SignalR connections that can tolerate temporary network interruptions.</span></span> <span data-ttu-id="4c0d3-201">Lorsqu’un Blazor client SignalR voit que la connexion est déconnectée, il SignalR tente de se reconnecter au serveur à l’aide d’une nouvelle connexion.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-201">When a Blazor client sees that the SignalR connection is disconnected, it attempts to reconnect to the server using a new SignalR connection.</span></span>

<span data-ttu-id="4c0d3-202">Chaque écran de navigateur (onglet navigateur ou iframe) connecté à une Blazor application Server utilise une SignalR connexion.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-202">Each browser screen (browser tab or iframe) that is connected to a Blazor Server app uses a SignalR connection.</span></span> <span data-ttu-id="4c0d3-203">Il s’agit d’une autre distinction importante par rapport aux applications typiques rendues par le serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-203">This is yet another important distinction compared to typical server-rendered apps.</span></span> <span data-ttu-id="4c0d3-204">Dans une application rendue par un serveur, l’ouverture de la même application dans plusieurs écrans de navigateur ne se traduit généralement pas par des demandes de ressources supplémentaires sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-204">In a server-rendered app, opening the same app in multiple browser screens typically doesn't translate into additional resource demands on the server.</span></span> <span data-ttu-id="4c0d3-205">Dans Blazor une application Server, chaque écran de navigateur nécessite un circuit distinct et des instances distinctes de l’état des composants pour être géré par le serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-205">In a Blazor Server app, each browser screen requires a separate circuit and separate instances of component state to be managed by the server.</span></span>

Blazor<span data-ttu-id="4c0d3-206">envisage de fermer un onglet de navigateur ou de naviguer vers une URL externe une résiliation *gracieuse.*</span><span class="sxs-lookup"><span data-stu-id="4c0d3-206"> considers closing a browser tab or navigating to an external URL a *graceful* termination.</span></span> <span data-ttu-id="4c0d3-207">En cas de résiliation gracieuse, le circuit et les ressources associées sont immédiatement libérés.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-207">In the event of a graceful termination, the circuit and associated resources are immediately released.</span></span> <span data-ttu-id="4c0d3-208">Un client peut également se déconnecter non-gracieusement, par exemple en raison d’une interruption de réseau.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-208">A client may also disconnect non-gracefully, for instance due to a network interruption.</span></span> Blazor<span data-ttu-id="4c0d3-209">Server stocke des circuits déconnectés pour un intervalle configurable pour permettre au client de se reconnecter.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-209"> Server stores disconnected circuits for a configurable interval to allow the client to reconnect.</span></span>

Blazor<span data-ttu-id="4c0d3-210">Server permet au code de définir un *gestionnaire de circuit*, ce qui permet d’exécuter du code sur les modifications apportées à l’état du circuit d’un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-210"> Server allows code to define a *circuit handler*, which allows running code on changes to the state of a user's circuit.</span></span> <span data-ttu-id="4c0d3-211">Pour plus d’informations, consultez <xref:blazor/advanced-scenarios#blazor-server-circuit-handler>.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-211">For more information, see <xref:blazor/advanced-scenarios#blazor-server-circuit-handler>.</span></span>

### <a name="ui-latency"></a><span data-ttu-id="4c0d3-212">Latence de l’assurance-chômage</span><span class="sxs-lookup"><span data-stu-id="4c0d3-212">UI Latency</span></span>

<span data-ttu-id="4c0d3-213">La latence de l’interface utilisateur est le temps qu’il faut d’une action initiée au moment où l’interface utilisateur est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-213">UI latency is the time it takes from an initiated action to the time the UI is updated.</span></span> <span data-ttu-id="4c0d3-214">De plus petites valeurs pour la latence de l’interface utilisateur sont impératives pour qu’une application se sente sensible à un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-214">Smaller values for UI latency are imperative for an app to feel responsive to a user.</span></span> <span data-ttu-id="4c0d3-215">Dans Blazor une application Server, chaque action est envoyée au serveur, traitée, et un diff d’interface utilisateur est renvoyé.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-215">In a Blazor Server app, each action is sent to the server, processed, and a UI diff is sent back.</span></span> <span data-ttu-id="4c0d3-216">Par conséquent, la latence de l’interface utilisateur est la somme de la latence du réseau et de la latence du serveur dans le traitement de l’action.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-216">Consequently, UI latency is the sum of network latency and the server latency in processing the action.</span></span>

<span data-ttu-id="4c0d3-217">Pour une application d’entreprise limitée à un réseau privé d’entreprise, l’effet sur les perceptions des utilisateurs de la latence due à la latence du réseau est généralement imperceptible.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-217">For a line of business app that's limited to a private corporate network, the effect on user perceptions of latency due to network latency are usually imperceptible.</span></span> <span data-ttu-id="4c0d3-218">Pour une application déployée sur Internet, la latence peut devenir perceptible pour les utilisateurs, en particulier si les utilisateurs sont largement distribués géographiquement.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-218">For an app deployed over the Internet, latency may become noticeable to users, particularly if users are widely distributed geographically.</span></span>

<span data-ttu-id="4c0d3-219">L’utilisation de la mémoire peut également contribuer à la latence de l’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-219">Memory usage can also contribute to app latency.</span></span> <span data-ttu-id="4c0d3-220">L’utilisation accrue de la mémoire entraîne une collecte fréquente des ordures ou de la mémoire de l’acuisation au disque, qui dégradent les performances de l’application et, par conséquent, augmentent la latence de l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-220">Increased memory usage results in frequent garbage collection or paging memory to disk, both of which degrade app performance and consequently increase UI latency.</span></span> <span data-ttu-id="4c0d3-221">Pour plus d’informations, consultez <xref:security/blazor/server>.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-221">For more information, see <xref:security/blazor/server>.</span></span>

Blazor<span data-ttu-id="4c0d3-222">Les applications serveur doivent être optimisées pour minimiser la latence de l’interface utilisateur en réduisant la latence du réseau et l’utilisation de la mémoire.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-222"> Server apps should be optimized to minimize UI latency by reducing network latency and memory usage.</span></span> <span data-ttu-id="4c0d3-223">Pour une approche de mesure de <xref:host-and-deploy/blazor/server#measure-network-latency>la latence réseau, voir .</span><span class="sxs-lookup"><span data-stu-id="4c0d3-223">For an approach to measuring network latency, see <xref:host-and-deploy/blazor/server#measure-network-latency>.</span></span> <span data-ttu-id="4c0d3-224">Pour plus SignalR d’informations sur et Blazor, voir:</span><span class="sxs-lookup"><span data-stu-id="4c0d3-224">For more information on SignalR and Blazor, see:</span></span>

* <xref:host-and-deploy/blazor/server>
* <xref:security/blazor/server>

### <a name="connection-to-the-server"></a><span data-ttu-id="4c0d3-225">Connexion au serveur</span><span class="sxs-lookup"><span data-stu-id="4c0d3-225">Connection to the server</span></span>

Blazor<span data-ttu-id="4c0d3-226">Les applications serveur SignalR nécessitent une connexion active au serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-226"> Server apps require an active SignalR connection to the server.</span></span> <span data-ttu-id="4c0d3-227">Si la connexion est perdue, l’application tente de se reconnecter au serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-227">If the connection is lost, the app attempts to reconnect to the server.</span></span> <span data-ttu-id="4c0d3-228">Tant que l’état du client est encore dans la mémoire, la session client reprend sans perdre d’état.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-228">As long as the client's state is still in memory, the client session resumes without losing state.</span></span>

<span data-ttu-id="4c0d3-229">Une Blazor application Server précède en réponse à la première demande du client, qui met en place l’état de l’interface utilisateur sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-229">A Blazor Server app prerenders in response to the first client request, which sets up the UI state on the server.</span></span> <span data-ttu-id="4c0d3-230">Lorsque le client tente SignalR de créer une connexion, le client doit se reconnecter au même serveur.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-230">When the client attempts to create a SignalR connection, the client must reconnect to the same server.</span></span> Blazor<span data-ttu-id="4c0d3-231">Les applications serveur qui utilisent plus d’un SignalR serveur backend doivent implémenter des sessions *collantes* pour les connexions.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-231"> Server apps that use more than one backend server should implement *sticky sessions* for SignalR connections.</span></span>

<span data-ttu-id="4c0d3-232">Nous vous recommandons d’utiliser le [service Azure SignalR ](/azure/azure-signalr) pour Blazor les applications Server.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-232">We recommend using the [Azure SignalR Service](/azure/azure-signalr) for Blazor Server apps.</span></span> <span data-ttu-id="4c0d3-233">Le service permet d’intensifier Blazor une application Server à SignalR un grand nombre de connexions simultanées.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-233">The service allows for scaling up a Blazor Server app to a large number of concurrent SignalR connections.</span></span> <span data-ttu-id="4c0d3-234">Des sessions collantes sont SignalR activées pour le `ServerStickyMode` service Azure `Required`en définissant l’option du service ou la valeur de configuration à .</span><span class="sxs-lookup"><span data-stu-id="4c0d3-234">Sticky sessions are enabled for the Azure SignalR Service by setting the service's `ServerStickyMode` option or configuration value to `Required`.</span></span> <span data-ttu-id="4c0d3-235">Pour plus d’informations, consultez <xref:host-and-deploy/blazor/server#signalr-configuration>.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-235">For more information, see <xref:host-and-deploy/blazor/server#signalr-configuration>.</span></span>

<span data-ttu-id="4c0d3-236">Lors de l’utilisation de l’IIS, les sessions collantes sont activées avec le routage de demande d’application.</span><span class="sxs-lookup"><span data-stu-id="4c0d3-236">When using IIS, sticky sessions are enabled with Application Request Routing.</span></span> <span data-ttu-id="4c0d3-237">Pour plus d’informations, voir [HTTP Load Balancing à l’aide de l’application Request Routing](/iis/extensions/configuring-application-request-routing-arr/http-load-balancing-using-application-request-routing).</span><span class="sxs-lookup"><span data-stu-id="4c0d3-237">For more information, see [HTTP Load Balancing using Application Request Routing](/iis/extensions/configuring-application-request-routing-arr/http-load-balancing-using-application-request-routing).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="4c0d3-238">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="4c0d3-238">Additional resources</span></span>

* <xref:blazor/get-started>
* <xref:signalr/introduction>
* <xref:blazor/hosting-model-configuration>
* <xref:tutorials/signalr-blazor-webassembly>
